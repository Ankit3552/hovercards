<div ng-if="!data.content.$err">
	<div class="context-top">
		<div class="share-container" share-page=":: data.content"></div>
		<div class="row">
			<div class="col-10">
				<div class="network-pick">
					<div class="network-circle network-circle-twitter"></div>
				</div>
				<span>Tweeted by <a ng-href="{{:: data.content.author | generateUrl }}" class="no-yo">{{:: data.content.author.name || data.content.author.id }}</a></span>
			</div>
			<div class="col-2">
				<span><a ng-href="{{:: data.content | generateUrl }}" class="no-yo">{{:: data.content.date | timeSince:true }}</a></span>
			</div>
		</div>
	</div>

	<!-- Video -->
	<div ng-if=":: data.content.video && !data.content.video_is_image" class="twitter-video">
		<div class="video-top" ng-class="{ 'fullscreen-trigger': view.fullscreen === data.content }">
			<div class="video-image">
				<div ng-if="playing">
					<video video-src="{{:: data.content.video }}" click-controls="true" fullscreen="data.content" view="view" autoplay loop></video>
				</div>
			</div>
		</div>
		<div class="video-top-underlay">
			<img ng-src="{{:: data.content.image }}" ng-click="played || ((played = true) && (playing = true))" class="video-image">
			<div class="play-video twitter-background" ng-click="played || ((played = true) && (playing = true))" ng-class="{ 'play-video-clicked': playing }"></div>
			<div class="video-cta twitter-background" ng-click="(view.fullscreen=data.content) && (played || ((played = true) && (playing = true)))" ng-class="{ 'button-vanish': view.fullscreen === data.content }">
				<i class="zmdi zmdi-fullscreen"></i>
			</div>
			<div class="video-cta twitter-background" ng-click="view.fullscreen=null;" ng-class="{ 'button-vanish': view.fullscreen !== data.content }">
				<i class="zmdi zmdi-fullscreen-exit"></i>
			</div>
		</div>
	</div>

	<!-- Image/Gifs -->
	<div class="content-top" ng-class="{ 'content-top-active': view.fullscreen === data.content }" ng-if=":: data.content.image && (data.content.video_is_image || !data.content.video)" ng-click="view.fullscreen=(view.fullscreen === data.content) ? null : data.content">
		<img ng-src="{{:: data.content.image }}:small" ng-if=":: !data.content.video">
		<video video-src="{{:: data.content.video }}" autoplay loop ng-if=":: data.content.video"></video>
	</div>
	<div class="fullscreen-image" ng-if="(data.content.image && (data.content.video_is_image || !data.content.video)) && view.fullscreen === data.content" ng-click="view.fullscreen=null">
		<img ng-src="{{:: data.content.image }}:small" ng-if=":: !data.content.video">
		<video video-src="{{:: data.content.video }}" autoplay loop ng-if=":: data.content.video"></video>
	</div>

	<div class="card-text text-post">
		<div class="card-description">
			<p collapse=":: data.content.description" collapse-at="19 * 7" tolerance="19 * 3" recollapse-at="19 * 15"></p>
			<div class="response" ng-if=":: data.content.replied_to ">
				<div class="col-10">
					<b>In response to <a ng-href="{{:: data.content.replied_to.author | generateUrl }}">{{:: data.content.replied_to.author.name }}</a>'s tweet:</b>
				</div>
				<div class="col-2">
					<b><a ng-href="{{:: data.content.replied_to | generateUrl }}">{{:: data.content.replied_to.date | timeSince:true }}</a></b>
				</div>
				<p ng-bind-html=":: data.content.replied_to.description"></p>
				<div class="response-image-container" ng-if=":: data.content.replied_to.image">
					<img ng-src="{{:: data.content.replied_to.image }}:small">
				</div>
			</div>
		</div>
	</div>

	<div class="card-stats row">
		<div class="col-6">
			<b>Retweets</b>
			<span>{{:: data.content.retweets | numsmall }}</span>
		</div>
		<div class="col-6">
			<b>Favourites</b>
			<span>{{:: data.content.favorites | numsmall }}</span>
		</div>
	</div>
</div>

<div class="yocards-message-container error-message" ng-class="err.api && 'twitter-message'" ng-if="data.content.$err" ng-init="err = data.content.$err">
	<div class="yocards-message-image"></div>
	<span class="yocards-message-text" ng-messages="err">
		<span ng-message="forbidden" stored="twitter_user" name="twitter_user">
			<span class="yocards-message-content"><b><i class="md md-error"></i>Protected Status</b>The user has decided to protect this tweet. {{ twitter_user ? '' : 'If you can usually see this tweet, maybe signing in will let you see it.' }}</span>
			<div class="yocards-message-option" ng-if="!twitter_user">
				<a authorize="err.api" on-authorized="err.reload()">Sign into Twitter</a>
			</div>
		</span>

		<span ng-messages-include="templates/default_exceptions.html"></span>
	</span>
</div>
