<html ng-csp>
<head>
	<link rel="stylesheet" href="bower_components/angular/angular-csp.css">
	<link rel="stylesheet" href="styles/styles.css">
	<link rel="stylesheet" href="styles/material-design-iconic-font.min.css">
	<style> pre { background-color: pink; font-size: 10pt; } </style>
</head>
<body>
	<div class="ng-cloak" entry="entry" ng-cloak>
		<div class="cards bounce-out-animation" ng-if="entry">
			<div content="content" request="entry.content" ng-if="entry.content">
				<div class="card bounce-in-animation" ng-include="'templates/'+ content.type + '.html'" ng-if="content"></div>
				<div ng-init="entry.accounts = content.accounts" ng-if="content"></div>
			</div>

			<div discussions="discussions" request="entry.content" ng-if="entry.content">
				<div class="card bounce-in-animation" ng-repeat="discussion in discussions" ng-include="'templates/'+ discussion.type + '.html'"></div>
			</div>

			<div people="people" requests="entry.accounts" selected-person="selectedPerson" ng-if="entry.accounts">
				<div ng-repeat="person in people" ng-click="selectedPerson = person">
					<div account="account" request="person.selectedAccount" ng-if="person.selectedAccount">
						<div class="card bounce-in-animation" ng-include="'templates/'+ account.type + '.html'" ng-if="account"></div>
					</div>
				</div>
				<div class="network-menu-container" ng-class="'network-menu-size-' + selectedPerson.accounts.length" ng-if="selectedPerson.accounts.length">
					<div class="network-menu-option" ng-class="account.type + '-option'" ng-style="{ left: ((-100 * selectedPerson.menuOffset) || 0) + 'px' }" ng-repeat="account in selectedPerson.accounts" ng-click="selectedPerson.selectedAccount = account">
						<span ng-class="account == selectedPerson.selectedAccount && 'active'">{{ account.type | copy }}</span>
					</div>
					<div class="network-menu-option">
						<span>Facebook</span>
					</div>
					<div class="network-menu-option">
						<span>Instagram</span>
					</div>
					<div class="network-menu-option">
						<span>ProductHunt</span>
					</div>
				</div>
				<div ng-show="selectedPerson.menuOffset" ng-click="selectedPerson.menuOffset = (selectedPerson.menuOffset || 0) - 3">Left</div>
				<div ng-show="selectedPerson.menuOffset + 3 < selectedPerson.accounts.length" ng-click="selectedPerson.menuOffset = (selectedPerson.menuOffset || 0) + 3">Right</div>
				<!--
				<div related="related" request="selectedPerson.selectedAccount" ng-if="selectedPerson.selectedAccount">
					<pre ng-repeat="content in related.contents" ng-click="entry.content = content">content = {{ content | json }}</pre><br>
				</div>
			-->
			</div>
		</div>
	</div>
	<div class="test">
	</div>


	<link rel="stylesheet" href="styles/subscribe-fix-style.css">
	<script src="bower_components/requirejs/require.js"></script>
	<script src="scripts/config.js"></script>
	<script src="scripts/sidebar-main.js"></script>
</body>
</html>
